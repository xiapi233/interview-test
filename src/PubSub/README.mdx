# å®ç°å‘å¸ƒè®¢é˜…ç³»ç»Ÿï¼ˆPubSubï¼‰

## ğŸ“ è¯·å®ç°ä¸€ä¸ª PubSub ç±»ï¼Œå®ƒæ”¯æŒä»¥ä¸‹æ–¹æ³•ï¼š

-   `subscribe(event, callback)`: è®¢é˜…æŒ‡å®šäº‹ä»¶ã€‚
-   `publish(event, ...args)`: å‘å¸ƒäº‹ä»¶ï¼Œè°ƒç”¨æ‰€æœ‰ç›‘å¬è¯¥äº‹ä»¶çš„å›è°ƒã€‚
-   `unsubscribe(event, callback)`: å–æ¶ˆè®¢é˜…æŒ‡å®šäº‹ä»¶çš„æŸä¸ªå›è°ƒã€‚
-   `clear(event?)`: æ¸…é™¤æŸä¸ªäº‹ä»¶çš„æ‰€æœ‰å›è°ƒï¼Œè‹¥ä¸ä¼ å‚æ•°ï¼Œåˆ™æ¸…é™¤æ‰€æœ‰äº‹ä»¶ã€‚

## ğŸ¯ è¦æ±‚ï¼š

-   ç±»å‹å®‰å…¨ï¼ˆevent ä¸º string ç±»å‹æ—¶ï¼Œæ¯ç§äº‹ä»¶å¯¹åº”ä¸åŒå‚æ•°ç±»å‹ï¼‰
-   å®Œå–„çš„ç±»å‹å®šä¹‰
-   ç±»å‹æç¤ºå‹å¥½ï¼ˆèƒ½è‡ªåŠ¨æç¤ºäº‹ä»¶åå­—, å¹¶ä¸” TS èƒ½æ¨æ–­å‡ºæ¯ä¸ªäº‹ä»¶çš„å›è°ƒå‚æ•°ï¼‰
-   æ”¯æŒå¤šæ¬¡è®¢é˜…ã€å–æ¶ˆè®¢é˜…ã€æ¸…é™¤ç­‰
-   è¿è¡Œ `pnpm test` æµ‹è¯•æ— é”™è¯¯

## ğŸ§© ç¤ºä¾‹ç”¨æ³•ï¼š

```ts
type Events = {
    click: [x: number, y: number]
    close: []
    data: [value: string]
}

const pubsub = new PubSub<Events>()

function onClick(x: number, y: number) { ... }
pubsub.subscribe('click', onClick)
pubsub.publish('click', 10, 20)
pubsub.unsubscribe('click', onClick)
```


> â€¼ï¸
>
> è¯·åœ¨ `src/PubSub/index.ts` å®Œæˆä»£ç ç¼–å†™.